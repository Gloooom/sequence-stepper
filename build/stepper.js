!function(root,factory){if("object"==typeof exports&&"object"==typeof module)module.exports=factory();else if("function"==typeof define&&define.amd)define([],factory);else{var a=factory();for(var i in a)("object"==typeof exports?exports:root)[i]=a[i]}}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="/build/",__webpack_require__(0)}([function(module,exports){"use strict";function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _sequence(steps,reject){var _steps$slice$reverse=steps.slice().reverse(),_steps$slice$reverse2=_toArray(_steps$slice$reverse),last=_steps$slice$reverse2[0],firsts=_steps$slice$reverse2.slice(1);return function(initialData){return firsts.reduce(function(nextStep,step){return function(comingStep,data){return step({next:function(data){return nextStep(comingStep,data)},reject:reject},data)}},last)({reject:reject},initialData)}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),StepDescriptor=function(){function StepDescriptor(step,stepper){var _this=this;_classCallCheck(this,StepDescriptor),this.id=0,this.id=StepDescriptor.ID_COUNTER,StepDescriptor.ID_COUNTER++,this.stepper=stepper,this.action=step,this.execute=function(data){return step(_this,data)}}return _createClass(StepDescriptor,[{key:"next",value:function(data){this.stepper.next(data,this)}},{key:"remove",value:function(){this.stepper.remove(this)}},{key:"reject",value:function(data){this.stepper.reject(data)}}]),StepDescriptor}();StepDescriptor.ID_COUNTER=0;exports.Stepper=function(){function Stepper(steps){var _this2=this,onReject=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};_classCallCheck(this,Stepper),this.steps=[],this.currentStep=-1,steps.forEach(function(step){return _this2.add(step)}),this.reject=onReject}return _createClass(Stepper,[{key:"next",value:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,stepDescriptor=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return stepDescriptor&&(this.currentStep=this.steps.findIndex(function(step){return step.id===stepDescriptor.id})),this.currentStep++,this.steps[this.currentStep].execute(data),{done:this.currentStep===this.steps.length-1}}},{key:"prev",value:function(){this.currentStep--}},{key:"remove",value:function(stepDescriptor){this.steps.splice(this.steps.findIndex(function(step){return step.id===stepDescriptor.id}),1)}},{key:"add",value:function(step){var index=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,stepDescriptor=new StepDescriptor(step,this);return null==index?this.steps.push(stepDescriptor):this.steps.splice(index,0,stepDescriptor),stepDescriptor}},{key:"insertBefort",value:function(stepDescriptor,step){return this.add(step,this.steps.findIndex(function(step){return step.id===stepDescriptor.id})-1)}},{key:"insertAfter",value:function(stepDescriptor,step){return this.add(step,this.steps.findIndex(function(step){return step.id===stepDescriptor.id})+1)}},{key:"sequence",value:function(){return _sequence(this.steps.map(function(step){return step.raw}),this.reject)}}]),Stepper}();exports.sequence=_sequence}])});